(this.webpackJsonpcats=this.webpackJsonpcats||[]).push([[0],{140:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(31),s=n.n(i),o=n(191),l=n(205),j=n(43),u=n(14),d=n(188),b=n(196),h=n(197),O=n(198),p=n(195),x=n(189),f=n(184),m=n(186),v=n(199),g=n(178),C=n(179),k=n(185),y=n(193),w=n(194),A=n(15),S=n(2),D=function(e){var t,n=e.openDrawer,r=e.isOpen,c=e.closeDrawer,a=Object(A.f)();return Object(S.jsx)(k.a,{anchor:"left",open:r,onClose:c,onOpen:n,PaperProps:{sx:{width:200}},children:Object(S.jsx)(y.a,{children:Object(S.jsx)(w.a,{onClick:(t="/",function(){a(t),c()}),children:Object(S.jsx)(p.a,{variant:"button",children:"RANDOM CAT"})})})})},E=function(e){var t=e.children,n=Object(c.useState)(null),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(j.b)(),o=s.logout,l=s.user,k=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return{openDrawer:function(){r(!0)},closeDrawer:function(){r(!1)},isOpen:n}}(),y=k.isOpen,w=k.openDrawer,A=k.closeDrawer;return Object(S.jsxs)(d.a,{container:!0,direction:"column",children:[Object(S.jsx)(b.a,{position:"sticky",children:Object(S.jsxs)(h.a,{children:[Object(S.jsx)(O.a,{size:"large",edge:"start",sx:{mr:2},onClick:w,children:Object(S.jsx)(g.a,{})}),Object(S.jsx)(p.a,{variant:"body2",component:"span",sx:{flexGrow:1},children:"CATS ARE HAPPINESS"}),Object(S.jsx)(O.a,{onClick:function(e){i(e.currentTarget)},children:(null===l||void 0===l?void 0:l.picture)?Object(S.jsx)(x.a,{src:l.picture}):Object(S.jsx)(x.a,{children:Object(S.jsx)(C.a,{})})}),Object(S.jsxs)(f.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:function(){i(null)},children:[Object(S.jsx)(m.a,{disabled:!0,children:(null===l||void 0===l?void 0:l.name)||"User"}),Object(S.jsx)(m.a,{onClick:function(){return o()},children:"Logout"})]})]})}),Object(S.jsx)(D,{isOpen:y,closeDrawer:A,openDrawer:w}),Object(S.jsx)(v.a,{children:Object(S.jsx)("main",{children:t})})]})},I=n(46),L=n.n(I),R=n(93),T=n(183),U=n(201),N=n(202),M=n(203),P=n(204),z=n(95),H=function(e){var t=e.children;return Object(S.jsx)(d.a,{sx:{mt:2,mb:2},container:!0,justifyContent:"center",children:Object(S.jsx)(p.a,{variant:"h4",children:t})})},q=n(29),B=n(60),J=n(61),F=n(94),G=n.n(F),V={"x-api-key":"d57fd432-25dd-4b7b-a518-dc74b30053be"},W=new(function(){function e(t,n){Object(B.a)(this,e),this.instance=null,this.headers=void 0,this.baseUrl=void 0,this.headers=t,this.baseUrl=n}return Object(J.a)(e,[{key:"http",get:function(){return null!=this.instance?this.instance:this.initHttp()}},{key:"initHttp",value:function(){var e=this,t=G.a.create({baseURL:this.baseUrl,headers:this.headers});return t.interceptors.response.use((function(e){return e}),(function(t){var n=t.response;return e.handleError(n)})),this.instance=t,t}},{key:"request",value:function(e){return this.http.request(e)}},{key:"get",value:function(e,t){return this.http.get(e,t)}},{key:"post",value:function(e,t,n){return this.http.post(e,t,n)}},{key:"put",value:function(e,t,n){return this.http.put(e,t,n)}},{key:"delete",value:function(e,t){return this.http.delete(e,t)}},{key:"handleError",value:function(e){return Promise.reject(e)}}]),e}())(V,"https://api.thecatapi.com/v1"),X=q.b.model("RandomCat",{id:q.b.string,url:q.b.string,width:q.b.number,height:q.b.number});!function(e){e.ANIMATED="gif",e.STATIC="jpg,png",e.ALL="jpg,png,gif"}(r||(r={}));var _=q.b.model("RandomCatStore",{currentCat:q.b.maybeNull(X)}).actions((function(e){return{getRandomCat:Object(q.a)(L.a.mark((function t(n){var r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.get("/images/search",{params:{mime_types:n}});case 3:r=t.sent,e.currentCat=r.data[0],t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}})),K=q.b.model({randomCatStore:_}).create({randomCatStore:{}}),Q=a.a.createContext({}),Y=n(76),Z=n(97),$=n(190),ee=n(200),te=n(206),ne=["loading","children","disabled"],re=function(e){var t=e.loading,n=e.children,r=e.disabled,c=Object(Z.a)(e,ne);return Object(S.jsxs)($.a,Object(Y.a)(Object(Y.a)({disabled:r||t},c),{},{children:[t&&Object(S.jsx)(te.a,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",position:"absolute",display:"flex",children:Object(S.jsx)(ee.a,{color:"inherit",size:22,thickness:4})}),Object(S.jsx)(te.a,{sx:{opacity:t?0:"initial"},children:n})]}))},ce=Object(z.a)((function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(r.ALL),s=Object(u.a)(i,2),o=s[0],l=s[1],j=Object(c.useContext)(Q).randomCatStore,b=Object(c.useCallback)(Object(R.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,j.getRandomCat(o);case 3:case"end":return e.stop()}}),e)}))),[o,j]);Object(c.useEffect)((function(){b()}),[b]);return Object(S.jsxs)(d.a,{container:!0,direction:"column",alignItems:"center",sx:{height:"100%"},children:[Object(S.jsx)(H,{children:"Random cat"}),Object(S.jsxs)(T.a,{sx:{pb:1},onChange:function(e,t){l(t)},value:o,children:[Object(S.jsx)(U.a,{label:"All",value:r.ALL}),Object(S.jsx)(U.a,{label:"Static",value:r.STATIC}),Object(S.jsx)(U.a,{label:"Animated",value:r.ANIMATED})]}),j.currentCat&&Object(S.jsx)(d.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(S.jsxs)(N.a,{sx:{borderRadius:4},children:[Object(S.jsx)(M.a,{component:"img",height:350,alt:"random card",src:j.currentCat.url,sx:{objectFit:"contain"},onLoad:function(){return a(!1)}}),Object(S.jsx)(P.a,{sx:{pt:2,pb:2},children:Object(S.jsx)(d.a,{container:!0,justifyContent:"center",children:Object(S.jsx)(re,{variant:"outlined",color:"primary",loading:n,onClick:b,children:"One more cat"})})})]})})]})})),ae=n(71),ie=function(){return Object(S.jsx)(ae.a,{children:Object(S.jsx)(E,{children:Object(S.jsxs)(A.c,{children:[Object(S.jsx)(A.a,{path:"/",element:Object(S.jsx)(ce,{})}),Object(S.jsx)(A.a,{path:"*",element:Object(S.jsx)("p",{children:"There's nothing here!"})})]})})})};var se=function(){var e=Object(j.b)(),t=e.loginWithRedirect,n=e.isAuthenticated,r=e.isLoading;return Object(c.useEffect)((function(){r||n||t()}),[n,r,t]),Object(S.jsx)("div",{className:"App",children:r?Object(S.jsx)("div",{children:"loading..."}):n&&Object(S.jsx)(ie,{})})},oe=n(96),le=Object(oe.a)({palette:{mode:"dark"}});s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(j.a,{domain:"cats-are-happiness.eu.auth0.com",clientId:"Uvekv9peUbOMc0tkVy1CrANjXlavjOes",redirectUri:window.location.origin,children:Object(S.jsx)(Q.Provider,{value:K,children:Object(S.jsxs)(o.a,{theme:le,children:[Object(S.jsx)(l.a,{enableColorScheme:!0}),Object(S.jsx)(se,{})]})})})}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.fdd68b6d.chunk.js.map